import{_ as v,c as b,e as d,f as l,w as n,h as a,o as _,i as s,F,j as V,k as q}from"./index-Coh5NWso.js";const L={name:"menu",data(){return{menuList:[],columns:[{label:"菜单名称",prop:"menuName",width:150},{label:"图标",prop:"icon"},{label:"菜单类型",prop:"menuType",formatter:(o,e,p)=>({1:"菜单",2:"按钮"})[p]},{label:"权限标识",prop:"menuCode"},{label:"路由地址",prop:"path"},{label:"组件路径",prop:"component"},{label:"菜单状态",prop:"menuState",width:90,formatter:(o,e,p)=>({1:"正常",2:"停用"})[p]},{label:"创建时间",prop:"createTime"}],queryForm:{menuState:1},pager:{}}},mounted(){this.getMenuList()},methods:{async getMenuList(){try{let o=await this.$api.getMenuList(this.queryForm);console.log("list=",o),this.menuList=o}catch(o){throw new Error(o)}},handleQuery(){},handleReset(){},handleAdd(){},handleEdit(){},handleDelete(){}}},z={class:"user-manage"},N={class:"query-form"},S={class:"base-table"},B={class:"action"};function E(o,e,p,M,r,m){const C=a("el-input"),i=a("el-form-item"),c=a("el-option"),y=a("el-select"),u=a("el-button"),h=a("el-form"),f=a("el-table-column"),k=a("el-table"),w=a("el-pagination");return _(),b("div",z,[d("div",N,[l(h,{ref:"form",inline:!0,model:r.queryForm,class:"form-inline"},{default:n(()=>[l(i,{label:"菜单名称",prop:"menuName"},{default:n(()=>[l(C,{modelValue:r.queryForm.userId,"onUpdate:modelValue":e[0]||(e[0]=t=>r.queryForm.userId=t),placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1}),l(i,{label:"菜单状态",prop:"menuState"},{default:n(()=>[l(y,{modelValue:r.queryForm.menuState,"onUpdate:modelValue":e[1]||(e[1]=t=>r.queryForm.menuState=t)},{default:n(()=>[l(c,{value:1,label:"正常"}),l(c,{value:2,label:"停用"})]),_:1},8,["modelValue"])]),_:1}),l(i,null,{default:n(()=>[l(u,{type:"primary",onClick:m.handleQuery},{default:n(()=>e[3]||(e[3]=[s("查询")])),_:1},8,["onClick"]),l(u,{onClick:e[2]||(e[2]=t=>m.handleReset("form"))},{default:n(()=>e[4]||(e[4]=[s("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),d("div",S,[d("div",B,[l(u,{type:"primary",onClick:o.handleCreate},{default:n(()=>e[5]||(e[5]=[s("新增")])),_:1},8,["onClick"]),l(u,{type:"danger",onClick:o.handlePatchDel},{default:n(()=>e[6]||(e[6]=[s("批量删除")])),_:1},8,["onClick"])]),l(k,{data:r.menuList,"row-key":"_id","tree-props":{children:"children"}},{default:n(()=>[(_(!0),b(F,null,V(r.columns,t=>(_(),q(f,{key:t.prop,prop:t.prop,label:t.label,width:t.width,formatter:t.formatter},null,8,["prop","label","width","formatter"]))),128)),l(f,{label:"操作",width:"190"},{default:n(t=>[l(u,{onClick:g=>m.handleAdd(t.row),size:"small"},{default:n(()=>e[7]||(e[7]=[s("新增")])),_:2},1032,["onClick"]),l(u,{onClick:g=>m.handleEdit(t.row),size:"small"},{default:n(()=>e[8]||(e[8]=[s("编辑")])),_:2},1032,["onClick"]),l(u,{type:"danger",size:"small",onClick:g=>m.handleDelete(t.row)},{default:n(()=>e[9]||(e[9]=[s("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(w,{class:"pagination",background:"",layout:"prev, pager, next",total:r.pager.total,"page-size":r.pager.pageSize,"current-page":r.pager.pageNum,onCurrentChange:o.handleCurrentChange},null,8,["total","page-size","current-page","onCurrentChange"])])])}const D=v(L,[["render",E]]);export{D as default};
